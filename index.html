<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Landing Page</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
</head>
<body>




  
  <div id="map"></div>
<style>
  /* General modal styles */

.close-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 30px;
  color: #aaa;
  cursor: pointer;
}

.close-btn:hover {
  color: black;
}

/* Style the logo items */
#logo-nav {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 20px;
}

.logo img {
  width: 60px;
  height: 60px;
  cursor: pointer;
}


</style>
  <script>





    // Function to show the modal with specific content
function showModal(logoId) {
  const modal = document.getElementById('modal');
  const title = document.getElementById('modal-title');
  const body = document.getElementById('modal-body');
  
  // Information based on the logo clicked
  switch(logoId) {
    case 1:
      title.textContent = "SAPS - South African Police Service";
      body.textContent = "SAPS is responsible for maintaining law and order in South Africa, preventing crime, and ensuring the safety of citizens.";
      break;
    case 2:
      title.textContent = "BoniZulu";
      body.textContent = "BoniZulu is a fashion brand committed to uniting designers for fabric sourcing and promoting the elderly through crocheting programs.";
      break;
    case 3:
      title.textContent = "Hillbrow";
      body.textContent = "Hillbrow is a diverse and vibrant neighborhood in Johannesburg, known for its rich culture and mix of residential and commercial spaces.";
      break;
    case 4:
      title.textContent = "CPF - Community Policing Forum";
      body.textContent = "CPF works closely with SAPS to improve safety and security in communities, promoting cooperation between police and residents.";
      break;
    case 5:
      title.textContent = "Pulse";
      body.textContent = "Pulse is an initiative dedicated to monitoring street activities, overseeing public services, and tracking community-driven efforts for safer environments.";
      break;
    default:
      title.textContent = "";
      body.textContent = "";
  }

  // Display the modal
  modal.style.display = "block";
}

// Function to close the modal
function closeModal() {
  const modal = document.getElementById('modal');
  modal.style.display = "none";
}









// Function to show the modal with specific content
function showModal(logoId) {
  const modal = document.getElementById('modal');
  const title = document.getElementById('modal-title');
  const body = document.getElementById('modal-body');
  const carouselImages = document.querySelector('.carousel-images');
  
  // Information based on the logo clicked
  switch(logoId) {
    case 1:
      title.textContent = "SAPS - South African Police Service";
      body.textContent = "SAPS is responsible for maintaining law and order in South Africa, preventing crime, and ensuring the safety of citizens.";
      carouselImages.innerHTML = `
        <img src="images/Dada-Morero-.webp" alt="SAPS Hero Image 1">
        <img src="images/Safer Festive Season-p2a.jpeg" alt="SAPS Hero Image 2">
        <img src="images/Safer Festive Season.jpeg" alt="SAPS Hero Image 3">
      `;
      break;
    case 2:
      title.textContent = "BoniZulu";
      body.textContent = "BoniZulu is a fashion brand committed to uniting designers for fabric sourcing and promoting the elderly through crocheting programs.";
      carouselImages.innerHTML = `
        <img src="images/bonizulu-hero1.jpg" alt="BoniZulu Hero Image 1">
        <img src="images/bonizulu-hero2.jpg" alt="BoniZulu Hero Image 2">
        <img src="images/bonizulu-hero3.jpg" alt="BoniZulu Hero Image 3">
      `;
      break;
    case 3:
      title.textContent = "Hillbrow";
      body.textContent = "Hillbrow is a diverse and vibrant neighborhood in Johannesburg, known for its rich culture and mix of residential and commercial spaces.";
      carouselImages.innerHTML = `
        <img src="images/hillbrow-hero1.jpg" alt="Hillbrow Hero Image 1">
        <img src="images/hillbrow-hero2.jpg" alt="Hillbrow Hero Image 2">
        <img src="images/hillbrow-hero3.jpg" alt="Hillbrow Hero Image 3">
      `;
      break;
    case 4:
      title.textContent = "CPF - Community Policing Forum";
      body.textContent = "CPF works closely with SAPS to improve safety and security in communities, promoting cooperation between police and residents.";
      carouselImages.innerHTML = `
        <img src="images/cpf-hero1.jpg" alt="CPF Hero Image 1">
        <img src="images/cpf-hero2.jpg" alt="CPF Hero Image 2">
        <img src="images/cpf-hero3.jpg" alt="CPF Hero Image 3">
      `;
      break;
    case 5:
      title.textContent = "Pulse";
      body.textContent = "Pulse is an initiative dedicated to monitoring street activities, overseeing public services, and tracking community-driven efforts for safer environments.";
      carouselImages.innerHTML = `
        <img src="images/pulse-hero1.jpg" alt="Pulse Hero Image 1">
        <img src="images/pulse-hero2.jpg" alt="Pulse Hero Image 2">
        <img src="images/pulse-hero3.jpg" alt="Pulse Hero Image 3">
      `;
      break;
    default:
      title.textContent = "";
      body.textContent = "";
  }

  // Display the modal
  modal.style.display = "block";
}

// Function to close the modal
function closeModal() {
  const modal = document.getElementById('modal');
  modal.style.display = "none";
}

// Carousel control functionality
let carouselIndex = 0;

function moveCarousel(direction) {
  const images = document.querySelectorAll('.carousel-images img');
  carouselIndex = (carouselIndex + direction + images.length) % images.length;
  images.forEach((img, index) => {
    img.style.display = index === carouselIndex ? 'block' : 'none';
  });
}

// Initially show the first image in the carousel
window.onload = function() {
  moveCarousel(0);  // Show the first image when the page loads
}

  </script>
  <div id="logo-nav">
    <button class="nav-btn" onclick="slideLeft()">&#9664;</button>
    <div id="logo-container">
      <div class="logo" onclick="showModal(1)">
        <img src="images/SAPS_badge.svg.png" alt="Logo 1">
      </div>
      <div class="logo" onclick="showModal(2)">
        <img src="images/bonizluu-fav.png" alt="Logo 2">
      </div>
      <div class="logo" onclick="showModal(3)">
        <img src="images/hillbrow.jpeg" alt="Logo 3">
      </div>
      <div class="logo" onclick="showModal(4)">
        <img src="images/cpf.png" alt="Logo 4">
      </div>
      <div class="logo" onclick="showModal(5)">
        <img src="images/pulse.jpeg" alt="Logo 5">
      </div>
    </div>
    <button class="nav-btn" onclick="slideRight()">&#9654;</button>
  </div>
  
 <!-- Modal Structure -->
<div id="modal" class="modal">
  <div class="modal-content">
    <span class="close-btn" onclick="closeModal()">&times;</span>
    
    <!-- Modal Header -->
    <h2 id="modal-title"></h2>
    
    <!-- Modal Description -->
    <p id="modal-body"></p>

    <!-- Hero Image Carousel -->
    <div id="carousel" class="carousel">
      <div class="carousel-images">
        <img src="images/hero1.jpg" alt="Hero Image 1">
        <img src="images/hero2.jpg" alt="Hero Image 2">
        <img src="images/hero3.jpg" alt="Hero Image 3">
      </div>
      <button class="carousel-prev" onclick="moveCarousel(-1)">&#9664;</button>
      <button class="carousel-next" onclick="moveCarousel(1)">&#9654;</button>
    </div>

    <!-- Bloc Style Image with Description -->
    <div class="bloc-image">
      <img src="images/20.jpg" alt="Bloc Style Image">
      <p class="bloc-description">This is the description for the bloc-style image.</p>
    </div>

    <!-- Social Media Icons -->
    <div class="social-media">
      <a href="#" class="social-icon" target="_blank">
        <img src="images/facebook-icon.svg" alt="Facebook">
      </a>
      <a href="#" class="social-icon" target="_blank">
        <img src="images/twitter-icon.svg" alt="Twitter">
      </a>
      <a href="#" class="social-icon" target="_blank">
        <img src="images/instagram-icon.svg" alt="Instagram">
      </a>
      <a href="#" class="social-icon" target="_blank">
        <img src="images/linkedin-icon.svg" alt="LinkedIn">
      </a>
      <a href="#" class="social-icon" target="_blank">
        <img src="images/youtube-icon.svg" alt="YouTube">
      </a>
      <a href="#" class="social-icon" target="_blank">
        <img src="images/tiktok-icon.svg" alt="TikTok">
      </a>
    </div>

    <!-- Contact Info -->
    <div class="contact-info">
      <a href="tel:+1234567890" class="contact-icon">
        <img src="images/phone-icon.svg" alt="Call"> Call
      </a>
      <a href="https://wa.me/1234567890" class="contact-icon">
        <img src="images/whatsapp-icon.svg" alt="WhatsApp"> WhatsApp
      </a>
    </div>
  </div>
</div>

  
  <!-- Modal Structure -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal()">&times;</span>
      <h2 id="modal-title"></h2>
      <p id="modal-body"></p>
    </div>
  </div>
  

  <!-- Modal Button with Image -->
  <button id="modal-button" onclick="toggleWidgets()">
    <img src="images/ipulse-logo.png" alt="1Pulse" style="width: 50px; height: 50px; vertical-align: middle;">
   
  </button>

  <!-- Widgets -->
  <div id="widget-container">
 
            <style>
        /* Basic Reset and Styles */
        header { text-align: center; padding: 20px; background: #333; color: #fff; }
        h1, h2 { margin: 0; }
    
        /* Round Image Buttons */
        .button-container { text-align: center; padding: 20px; }
        .round-button-container {
          display: inline-block;
          text-align: center;
          margin: 10px;
        }
        .round-button {
          width: 70px;
          height: 70px;
          border-radius: 50%;
          background-size: cover;
          display: inline-block;
          cursor: pointer;
        }
        .company-name { margin-top: 5px; font-size: 14px; color: #333; }
    
        /* Modal Styles */
        .modal {
          display: none;
          position: fixed;
          z-index: 1;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.5);
        }
        .modal-content {
          background-color: #fff;
          margin: 10% auto;
          padding: 20px;
          width: 80%;
          max-width: 500px;
          border-radius: 8px;
        }
        .close-btn {
          float: right;
          font-size: 24px;
          font-weight: bold;
          cursor: pointer;
        }
      </style>
    
    <!-- Header with Logo -->
    <header>
      <img src="images/gjno logo.png" alt="GJNO Logo" class="logo">
      <h1>Greater Johannesburg Neighborhood Oversight (GJNO)</h1>
      <p>Building a Safer, Cleaner, and Accountable Johannesburg</p>
    </header>
    
    <!-- 20 Round Image Buttons with Company Names -->
    <div class="button-container">
      <!-- Generating buttons with JavaScript for simplicity -->
      <script>
        const companies = [
          { name: 'GJNO', logo: 'file:///C:/Users/USER/Documents/GitHub/1pulse_App/images/gjno%20logo.png' },
          { name: 'Company 2', logo: 'https://via.placeholder.com/70?text=2' },
          { name: 'Company 3', logo: 'https://via.placeholder.com/70?text=3' },
          { name: 'Company 4', logo: 'https://via.placeholder.com/70?text=4' },
          { name: 'Company 5', logo: 'https://via.placeholder.com/70?text=5' },
          { name: 'Company 6', logo: 'https://via.placeholder.com/70?text=6' },
          { name: 'Company 7', logo: 'https://via.placeholder.com/70?text=7' },
          { name: 'Company 8', logo: 'https://via.placeholder.com/70?text=8' },
          { name: 'Company 9', logo: 'https://via.placeholder.com/70?text=9' },
          { name: 'Company 10', logo: 'https://via.placeholder.com/70?text=10' },
          { name: 'Company 11', logo: 'https://via.placeholder.com/70?text=11' },
          { name: 'Company 12', logo: 'https://via.placeholder.com/70?text=12' },
          { name: 'Company 13', logo: 'https://via.placeholder.com/70?text=13' },
          { name: 'Company 14', logo: 'https://via.placeholder.com/70?text=14' },
          { name: 'Company 15', logo: 'https://via.placeholder.com/70?text=15' },
          { name: 'Company 16', logo: 'https://via.placeholder.com/70?text=16' },
          { name: 'Company 17', logo: 'https://via.placeholder.com/70?text=17' },
          { name: 'Company 18', logo: 'https://via.placeholder.com/70?text=18' },
          { name: 'Company 19', logo: 'https://via.placeholder.com/70?text=19' },
          { name: 'Company 20', logo: 'https://via.placeholder.com/70?text=20' }
        ];
    
        companies.forEach((company, index) => {
          document.write(`
            <div class="round-button-container">
              <div class="round-button" onclick="openModal('modal${index + 1}')" style="background-image: url('${company.logo}');"></div>
              <div class="company-name">${company.name}</div>
            </div>
          `);
        });
      </script>
    </div>
    
    <!-- 20 Modals -->
    <script>
      // Function to open a modal by id
      function openModal(id) {
        document.getElementById(id).style.display = 'block';
      }
    
      // Function to close all modals
      function closeModal() {
        let modals = document.getElementsByClassName("modal");
        for (let modal of modals) {
          modal.style.display = "none";
        }
      }
    </script>
    
    <!-- Modal Content -->
    <div id="modals">
      <script>
        // Generating modal content dynamically
        companies.forEach((company, index) => {
          document.write(`
            <div id="modal${index + 1}" class="modal">
              <div class="modal-content">
                <span class="close-btn" onclick="closeModal()">&times;</span>
                <h2>Information for ${company.name}</h2>
                <p>This is the modal content for ${company.name}. You can add specific information for each company here.</p>
              </div>
            </div>
          `);
        });
      </script>
    </div>
    
    </body>
    

  </div>
<style>/* Add these styles to your CSS file or in a <style> block */

  </style>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    // Initialize the map
    const map = L.map('map', {
      center: [-26.2041, 28.0473], // Coordinates for Johannesburg as an example
      zoom: 18,                    // Initial zoom level for close-up view
      maxZoom: 18,                 // Set max zoom to the closest level
      minZoom: 1                   // Optional: Set minimum zoom level
    });

 // Use CartoDB Positron tiles for a light base map
 L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="https://carto.com">CARTO</a>',
      maxZoom: 20
    }).addTo(map);

    // Toggle the display of the widget container
    function toggleWidgets() {
      const widgetContainer = document.getElementById("widget-container");
      if (widgetContainer.style.display === "none" || widgetContainer.style.display === "") {
          widgetContainer.style.display = "flex";
      } else {
          widgetContainer.style.display = "none";
      }
    }

    // Handle map click to show styled form in popup with coordinates filled in
    map.on('click', async (e) => {
      const { lat, lng } = e.latlng;
      const address = await reverseGeocode(lat, lng);

     const popupContent = `
  <div class="popup-content">
    <form id="incident-form" onsubmit="submitIncidentForm(event, ${lat}, ${lng})" style="display: flex; flex-direction: column; align-items: center;">
      <h3 style="color: #333; text-align: center;">Make Alert</h3>
      <label for="name" style="font-weight: bold; margin-top: 10px; width: 100%;">Full Name:</label>
      <input type="text" id="name" name="name" required style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ddd; margin-top: 5px;">
      <label for="email" style="font-weight: bold; margin-top: 10px; width: 100%;">Email:</label>
      <input type="email" id="email" name="email" required style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ddd; margin-top: 5px;">
      <label for="incidentType" style="font-weight: bold; margin-top: 10px; width: 100%;">Incident Type:</label>
      <select id="incidentType" name="incidentType" required style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ddd; margin-top: 5px;">
        <option value="" disabled selected>Select incident type</option>
        <option value="Other">Good deeds</option>
        <option value="Theft">Health</option>
        <option value="Vandalism">Xenophobia</option>
        <option value="Accident">Looting</option>
        <option value="Other">Property damage</option>
        <option value="Other">Violant crime</option>
        <option value="Other">Other</option>
      </select>
      <label for="description" style="font-weight: bold; margin-top: 10px; width: 100%;">Description:</label>
      <textarea id="description" name="description" required style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ddd; margin-top: 5px;"></textarea>
      <label for="address" style="font-weight: bold; margin-top: 10px; width: 100%;">Address:</label>
      <input type="text" id="address" name="address" value="${address}" readonly style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ddd; margin-top: 5px; background-color: #f9f9f9;">
      <button type="submit" style="margin-top: 15px;margin-bottom: 15px; padding: 10px 15px; color: #fff; background-color: #007BFF; border: none; border-radius: 4px; cursor: pointer;">Submit Alert</button>
    </form>
  </div>
`;


      L.popup({ className: "leaflet-popup" })
        .setLatLng([lat, lng])
        .setContent(popupContent)
        .openOn(map);
    });

    // Reverse Geocoding function to get address from coordinates
    async function reverseGeocode(lat, lng) {
      try {
        const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}&zoom=18&addressdetails=1`);
        const data = await response.json();
        return data.display_name || "Address not found";
      } catch (error) {
        console.error("Error in reverse geocoding:", error);
        return "Address not found";
      }
    }
  </script>

  <style>
/* General Modal Styles */
.modal {
  display: none; /* Hide by default */
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  justify-content: center;
  align-items: center;
  z-index: 1000001;
}
/* Base Styles */
.modal-content {
  background-color: white;
  padding: 20px;
  border-radius: 8px;
  max-width: 800px;
  width: 100%;
  left: 21%;
  top: 72px;
  position: relative;
}

/* Mobile Adjustments */
@media (max-width: 768px) {
  .modal-content {
    max-width: 85%;   /* Limit the width to 90% of the screen */
    left: 5%;         /* Adjust horizontal positioning for mobile */
    top: 20px;        /* Adjust the vertical positioning for better spacing */
    padding: 15px;    /* Reduce padding for smaller screens */
  }
}

/* Extra Mobile Adjustments for Smaller Screens (e.g., phones in portrait mode) */
@media (max-width: 480px) {
  .modal-content {
    left: 0;           /* Align the modal content to the left edge */
    top: 10px;         /* Reduce top spacing for smaller screens */
    padding: 10px;     /* Further reduce padding */
    max-width: 95%;   /* Set width to full screen */
  }
}

/* Close Button */
.close-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 30px;
  color: #aaa;
  cursor: pointer;
}

.close-btn:hover {
  color: black;
}

/* Carousel Styles */
.carousel {
  position: relative;
  margin: 20px 0;
}

.carousel-images {
  display: flex;
  overflow: hidden;
  justify-content: center;
}

.carousel-images img {
  width: 100%;
  max-width: 100%;
  display: none; /* Hide images initially */
}

.carousel-prev, .carousel-next {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background-color: rgba(0, 0, 0, 0.5);
  color: white;
  font-size: 30px;
  border: none;
  padding: 10px;
  cursor: pointer;
}

.carousel-prev {
  left: 10px;
}

.carousel-next {
  right: 10px;
}

/* Bloc Image with Description */
.bloc-image {
  display: flex;
  gap: 10px;
  margin-top: 20px;
}

.bloc-image img {
  width: 200px;
  height: 150px;
}

.bloc-description {
  flex-grow: 1;
  font-size: 16px;
  color: #333;
}

/* Social Media Icons */
.social-media {
  display: flex;
  gap: 10px;
  margin-top: 20px;
}

.social-icon img {
  width: 30px;
  height: 30px;
  cursor: pointer;
}

/* Contact Info */
.contact-info {
  margin-top: 20px;
}

.contact-icon {
  display: inline-block;
  margin-right: 20px;
  font-size: 16px;
  color: #333;
}

.contact-icon img {
  width: 20px;
  height: 20px;
  vertical-align: middle;
  margin-right: 5px;
}









    /* General styles */
    body, html {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background-color: #e7f3d4;
      color: #333;
    }

    
body {
  -ms-overflow-style: none;  /* Hides scrollbar in IE */
  scrollbar-width: none;  /* Hides scrollbar in Firefox */
}
    /* Map styling */
    #map {
      width: 100vw;
      height: 100vh;
      z-index: 1;
    }

    /* Popup styling with high z-index */
    .leaflet-popup-pane .leaflet-popup {
      z-index: 10000 !important;
    }

    /* Toggle Button with Image */
    #modal-button {
      position: absolute;
      top: 50%;
      left: 20px;
      transform: translateY(-50%);
      z-index: 100001;
      width: 50px;
      height: 50px;
      color: #fff;
      border: none;
      cursor: pointer;
      border-radius: 50%;
      transition: transform 0.2s ease-in-out, background-color 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: rgba(252, 247, 247, 0.404);
    }

    #modal-button:hover {
      transform: scale(1.1);
      background-color: #5f5f5f;
    }

    /* Widget Container */
    #widget-container {
      display: none;
      position: absolute;
      top: 60px;
      left: 20px;
      width: 300px;
      padding: 10px;
      background: white;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
      z-index: 10001;
    }

  
    .nav-btn {
      color: #383838;
      border: none;
      padding: 5px;
      cursor: pointer;
      font-size: 18px;
      border-radius: 20px;
    }


    .logo img {
    height: 40px;
    width: auto;
  }

    /* Column and box styling inside widget */
    .column {
      display: flex;
      flex-direction: column;
      margin-bottom: 10px;
      width: 100%;
    }

    .box {
      background: #f1f1f1;
      padding: 15px;
      margin-bottom: 10px;
      border-radius: 5px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    select {
      width: 100%;
      padding: 5px;
      margin-top: 10px;
      font-size: 16px;
    }
    .leaflet-control-zoom {
  display: none;
}

  </style>
</body>
</html>









